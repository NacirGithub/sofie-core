"use strict";(self.webpackChunksofie_documentation=self.webpackChunksofie_documentation||[]).push([[9977],{5318:function(e,t,a){a.d(t,{Zo:function(){return u},kt:function(){return m}});var n=a(7378);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),c=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),h=c(a),m=r,d=h["".concat(l,".").concat(m)]||h[m]||p[m]||i;return a?n.createElement(d,o(o({ref:t},u),{},{components:a})):n.createElement(d,o({ref:t},u))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var c=2;c<i;c++)o[c]=a[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},2316:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return u},default:function(){return h}});var n=a(5773),r=a(808),i=(a(7378),a(5318)),o=["components"],s={},l="Drafts (ignore this)",c={unversionedId:"main/drafts-ignore-me",id:"main/drafts-ignore-me",isDocsHomePage:!1,title:"Drafts \\(ignore this\\)",description:'{% hint style="danger" %}',source:"@site/docs/main/drafts-ignore-me.md",sourceDirName:"main",slug:"/main/drafts-ignore-me",permalink:"/tv-automation-server-core/docs/main/drafts-ignore-me",editUrl:"https://github.com/nrkno/tv-automation-server-core/edit/master/packages/documentation/docs/main/drafts-ignore-me.md",tags:[],version:"current",frontMatter:{},sidebar:"main",previous:{title:"Features",permalink:"/tv-automation-server-core/docs/main/dictionary"},next:{title:"FAQ, Progress, and Known Issues",permalink:"/tv-automation-server-core/docs/main/faq"}},u=[{value:"On front page:",id:"on-front-page",children:[]},{value:"System Overview and the Current Integrations",id:"system-overview-and-the-current-integrations",children:[]},{value:"Sofie System Overview",id:"sofie-system-overview",children:[]},{value:"User Interface",id:"user-interface",children:[{value:"Producers view",id:"producers-view",children:[]},{value:"Other views",id:"other-views",children:[]}]},{value:"During the show",id:"during-the-show",children:[]},{value:"Blueprints",id:"blueprints",children:[]},{value:"Device support",id:"device-support",children:[]},{value:"Architecture",id:"architecture",children:[{value:"Timeline Object",id:"timeline-object",children:[]},{value:"Baseline",id:"baseline",children:[]}]}],p={toc:u};function h(e){var t=e.components,s=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,n.Z)({},p,s,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"drafts-ignore-this"},"Drafts ","(","ignore this",")"),(0,i.kt)("p",null,'{% hint style="danger" %}\nThis page contains loose notes, which will be refactored, rewritten, removed or relocated to other parts in the documentation.'),(0,i.kt)("p",null,"Please ignore this page, or ","(","t",")","read carefully :",")","\n{% endhint %}"),(0,i.kt)("p",null,"\ud83e\udc39 \ud83e\udc38 \ud83e\udc3b \ud83e\udc3a - arrows to use, instead of ","(","dubious",")"," ASCII-art."),(0,i.kt)("p",null,"\u25cf - dingbat to separate Page titles and Headlines"),(0,i.kt)("h2",{id:"on-front-page"},"On front page:"),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"TODO: add examples of the GUI:")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("em",{parentName:"li"},"Producer's view")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("em",{parentName:"li"},"Details in the GUI"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("em",{parentName:"li"},"Next and Current line as gif / webm")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("em",{parentName:"li"},"hover-scrub as animated gif / webm")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("em",{parentName:"li"},"media-details, such as end-of-file and freeze-frames")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("em",{parentName:"li"},"Warnings from blueprints")),(0,i.kt)("li",{parentName:"ul"},"_","_"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("em",{parentName:"li"},"Prompter")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("em",{parentName:"li"},"Host-view"))),(0,i.kt)("h2",{id:"system-overview-and-the-current-integrations"},"System Overview and the Current Integrations"),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"TODO: make new overview")),(0,i.kt)("h2",{id:"sofie-system-overview"},(0,i.kt)("img",{parentName:"h2",src:"https://raw.githubusercontent.com/nrkno/Sofie-TV-automation/master/images/Sofie_NRK_May_10_2019.png",alt:"Sofie System Overview"})),(0,i.kt)("h2",{id:"user-interface"},"User Interface"),(0,i.kt)("p",null,"All interaction with Sofie is currently done via a web. This makes the system very flexible as you can quickly spin up another session in case a machine goes down, you can have multiple operators working on the same show at the same time or you can give a single operator multiple interfaces  ","(","f.g. a traditional keyboard and screen plus a touchscreen tablet for a ShotBox",")",". Utilizing modern web technologies allows all these sessions to stay in sync in real time."),(0,i.kt)("h3",{id:"producers-view"},"Producers view"),(0,i.kt)("p",null,"The producer gets the overview of the entire show. This view also lets them control the entire show as well as see all relevant timing information and warnings about media or playback. The producers view consist of a vertical list of ",(0,i.kt)("em",{parentName:"p"},"Segments"),", representing large chunks of the show ","(","f.g. a story",")",", each of which contains a horizontal list of ",(0,i.kt)("em",{parentName:"p"},"Parts"),", each being a small part of the ",(0,i.kt)("em",{parentName:"p"},"Segment")," - a single clip, a piece to camera or an interview. Every part contains items, such as cameras, media items, graphics objects, audio ques etc. They are intended to be stacked similar to how layers of an NLE would work, the background at the bottom and foreground items on top."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"The Producer&#39;s view and naming conventions of components",src:a(1199).Z})),(0,i.kt)("h4",{id:"media-status"},"Media status"),(0,i.kt)("p",null,"We have a few tools that help the producer check if everything will play out correctly. Sofie can currently check for freeze frames and black frames, the correct format of the media ","(","resolution, frame-rate and interlacing",")"," and lastly we give the producer the possibility of previewing the media straight from the UI using something we call ",(0,i.kt)("em",{parentName:"p"},"hover-scrub"),". Sofie also allows you to start playing from anywhere, so you don\u2019t need to sit through the whole clip to see the last graphics item."),(0,i.kt)("h3",{id:"other-views"},"Other views"),(0,i.kt)("p",null,"Sofie also has pages for status monitoring and configuration. The status page gives information about the state of all the connected devices and is especially useful for support crew. The configuration pages are intended for installation and allow extensive configuration of the studio installation, layers and devices as well upgrading the database after a system update and uploading ",(0,i.kt)("a",{parentName:"p",href:"/tv-automation-server-core/docs/main/features-and-configuration/concepts-and-architecture#blueprints"},"blueprints"),". For the presenter we offer a special screen containing information about the current and next Part, for example which camera is currently live or how long the current media item will be playing for. We also offer a teleprompter view that displays the script and can automatically scroll to the right Segments and Parts while the show progresses. This auto scrolling is especially useful during rehearsal when you might not play back through the show in a linear manner."),(0,i.kt)("h2",{id:"during-the-show"},"During the show"),(0,i.kt)("p",null,"While producing the show, we give the producer what we call the \u201cnext\u201d screen on the multiviewer. This essentially always shows the producer what source they are going to switch to next. But it is not limited to just the mixer: for example, it can also show the next item for playback. And in theory, this could be extended to any part of the show, for example scripts or camera robotics. Another tool the producer has available are ",(0,i.kt)("em",{parentName:"p"},"Ad-Libs"),", from the latin ad libitum. ",(0,i.kt)("em",{parentName:"p"},"Global Ad-Libs")," are available throughout the entire show, this could be cameras and remote inputs. Other ",(0,i.kt)("em",{parentName:"p"},"Ad-Libs")," are context aware and may only become available when the producer is in a ",(0,i.kt)("em",{parentName:"p"},"Part")," where they can be used. During the whole show Sofie can send metadata to external systems, such as indexing and timing information."),(0,i.kt)("h2",{id:"blueprints"},"Blueprints"),(0,i.kt)("p",null,"The ",(0,i.kt)("em",{parentName:"p"},"blueprints")," are a key part of a Sofie installation, giving the system it's flexibility. ",(0,i.kt)("em",{parentName:"p"},"Blueprints")," are a set of JavaScript scripts that take any input rundown data, from for example ENPS, and transform it into elements that can be played back by Sofie. This is a really powerful concept, because the ",(0,i.kt)("em",{parentName:"p"},"blueprint programmer")," is free to put in any logic they see fit, relieving duties from journalists and producers that can be automated. Using web-standard JavaScript means that there is no custom scripting language to learn and there is a large pool of developers available. Additional tools are available to make Sofie ",(0,i.kt)("em",{parentName:"p"},"blueprint")," development quick and easy in an ",(0,i.kt)("em",{parentName:"p"},"Integrated Development Environment"),", like ",(0,i.kt)("a",{parentName:"p",href:"https://code.visualstudio.com/"},"Visual Studio Code")," or ",(0,i.kt)("a",{parentName:"p",href:"https://atom.io/"},"Atom"),", with features such as auto-complete or being able to see how changes in the blueprints affect the output in real time!"),(0,i.kt)("h2",{id:"device-support"},"Device support"),(0,i.kt)("p",null,"We currently ","(","August 2019",")"," support the Blackmagic Atem range, CasparCG and Quantel for playback, HyperDeck for recording and can control Pharos lighting systems and Panasonic PTZ cameras. Through the Sisyfos controller application we have support for Behringer, Midas and MIDI-compatible sound mixers. We also have support for the Ember+, OSC, HTTP and TCP protocols that allows us to control many more devices: audio mixers, lightning systems, tally lights, etc."),(0,i.kt)("h2",{id:"architecture"},"Architecture"),(0,i.kt)("p",null,"The spine of a Sofie installation is the server-core: it serves the React-based UI to the user, connects to the Database and processes incoming and outgoing data using ",(0,i.kt)("em",{parentName:"p"},"Blueprints"),". The server-core is built using ",(0,i.kt)("a",{parentName:"p",href:"https://www.meteor.com/"},"Meteor"),"."),(0,i.kt)("p",null,"In addition to the server-core, we use ",(0,i.kt)("em",{parentName:"p"},"gateways")," to connect to services and devices. Most notably we have the ",(0,i.kt)("em",{parentName:"p"},"MOS Gateway")," for connecting to ENPS and the ",(0,i.kt)("em",{parentName:"p"},"Playout Gateway")," for resolving the ",(0,i.kt)("em",{parentName:"p"},"Timeline")," and controlling playout devices."),(0,i.kt)("p",null,"The ",(0,i.kt)("em",{parentName:"p"},"Timeline")," is an abstraction level for playout, it allows us to tie objects ","(","a camera source, or a vt",")"," with timing information. The commands are generated from this timeline on the fly by comparing the next and the current state at a time and calculating what commands are needed to reach the next state."),(0,i.kt)("p",null,"The objects on the ",(0,i.kt)("em",{parentName:"p"},"Timeline")," are put there by server-core and based on the rundown. But before these objects can be put on the timeline they need to be created. This is one of the tasks of the ",(0,i.kt)("em",{parentName:"p"},"Blueprints"),". The ",(0,i.kt)("em",{parentName:"p"},"Blueprints")," take data from a change in the input data ","(","f.g. ENPS",")"," and process it into objects that can be used to drive the UI as well as be put on the timeline."),(0,i.kt)("h3",{id:"timeline-object"},"Timeline Object"),(0,i.kt)("p",null,"The timeline-objects are stored inside of the ",(0,i.kt)("a",{parentName:"p",href:"/tv-automation-server-core/docs/main/dictionary#piece"},"Pieces")," and they control what's going to be played out on a technical level. When a ",(0,i.kt)("a",{parentName:"p",href:"/tv-automation-server-core/docs/main/dictionary#part"},"Part")," starts playing, all the timeline-objects from it's ",(0,i.kt)("a",{parentName:"p",href:"/tv-automation-server-core/docs/main/dictionary#piece"},"Pieces "),"are added to the ",(0,i.kt)("a",{parentName:"p",href:"/tv-automation-server-core/docs/main/dictionary#timeline"},"Timeline")," and played out by the Playout Gateway."),(0,i.kt)("h3",{id:"baseline"},"Baseline"),(0,i.kt)("p",null,'The Baseline is a timeline with timeline-objects that works as "fallback" during play-out. The baseline is generated by the Blueprints. There are different types of Baselines:'),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"The Studio Baseline"),"; this is activated whenever there is no rundown active in a studio. This is used for controlling things like turning off the lights, or start the coffee-machine after a show. This is generated by the ",(0,i.kt)("a",{parentName:"li",href:"/tv-automation-server-core/docs/main/dictionary#blueprints"},"Studio Blueprints"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"The Rundown Baseline"),"; is merged together with the timeline in a running rundown. This is used for controlling things like pulling down audio faders with a nice transition, etc. This is generated by the ",(0,i.kt)("a",{parentName:"li",href:"/tv-automation-server-core/docs/main/dictionary#blueprints"},"Showstyle Blueprints"),".")))}h.isMDXComponent=!0},1199:function(e,t,a){t.Z=a.p+"assets/images/sofie-naming-conventions-ddc95141c47ece5c6006d0e351eecfbd.png"}}]);